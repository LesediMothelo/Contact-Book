<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Add Contact</title>
  </head>
  <body>
    <br />
    <form id="editForm">
      <label for="firstname">First Name</label>
      <input type="text" name="firstname" id="firstname" /><br />

      <label for="lastname">Last Name</label>
      <input type="text" name="lastname" id="lastname" /><br />

      <label for="mobile">Mobile</label>
      <input type="text" name="mobile" id="mobile" /><br />

      <label for="email">Email</label>
      <input type="text" name="email" id="email" /><br />

      <label for="avatar">Select a file</label><br />
      <input type="file" name="avatar" id="avatar" /><br />

      <button type="submit">Submit</button>
    </form>

    <br />
    <button id="homeLink" type="button">Home</button>
    
    <script src="config.js"></script>
    <script>
      document.getElementById("editForm").addEventListener("submit", submitForm);
      document.getElementById("homeLink").addEventListener("click", () => {
        window.location.href = "index.html";
      });

      function submitForm(e) {
        e.preventDefault();

        const contacts = JSON.parse(localStorage.getItem("contacts")) || [];

        const newContact = {
          firstname: document.getElementById("firstname").value,
          lastname: document.getElementById("lastname").value,
          mobile: document.getElementById("mobile").value,
          email: document.getElementById("email").value,
          avatar: document.getElementById("avatar").files[0]?.name || "", // Optional for now
        };

        contacts.push(newContact);
        localStorage.setItem("contacts", JSON.stringify(contacts));

        alert("Contact added.");
        window.location.href = "index.html";
      }
    </script>
  </body>
</html>

